{% extends 'layouts/admin_layout.html' %}
{% load static %}
{% load i18n %}

{% block extra_meta %}<meta name="robots" content="noindex,nofollow">{% endblock %}
{% block title %}{% trans "New Post" %}{% endblock %}

{% block extra_head %}
  <link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-bs4.css" rel="stylesheet">
{% endblock %}

{% block content %}
  <h1>This is content</h1>
  <form method="POST" novalidate>
    {% csrf_token %}
    {% include 'includes/form.html' %}
    <button type="submit" class="btn btn-success btn-block">{% trans "Submit" %}</button>
  </form>
{% endblock %}

{% block extra_body %}
  <div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="showMediaModal" aria-hidden="true" id="mediaModal">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Modal title</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Modal body text goes here.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.11/summernote-bs4.js"></script>
  <script src="{% static 'js/summernote-ext-highlight.js' %}"></script>
  <script src="{% static 'js/summernote-media.js' %}"></script>
  <script type="text/javascript">
    $(function() {
      $('#id_body').summernote({
        toolbar: [
          ['style', ['style', 'bold', 'italic', 'underline', 'clear']],
          ['font', ['strikethrough', 'superscript', 'subscript']],
          ['fontstyle', ['fontname', 'fontsize']],
          ['color', ['color']],
          ['para', ['ul', 'ol', 'paragraph']],
          ['height', ['height']],
          ['media', ['media', 'highlight', 'codeview']],
        ],
        buttons: {
          media: MediaButton,
        }
      });
    });
  </script>
  <script>
    function testInsertSummernote() {
      $('#id_body').summernote('editor.saveRange');
      $('#id_body').summernote('editor.restoreRange');
      $('#id_body').summernote('editor.focus');
      $('#id_body').summernote('editor.pasteHTML', '<p>This is added text.</p>');
    }
  </script>
{% endblock %}